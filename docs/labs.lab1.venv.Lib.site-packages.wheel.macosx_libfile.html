<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module labs.lab1.venv.Lib.site-packages.wheel.macosx_libfile</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="labs.html"><font color="#ffffff">labs</font></a>.<a href="labs.lab1.html"><font color="#ffffff">lab1</font></a>.<a href="labs.lab1.venv.html"><font color="#ffffff">venv</font></a>.<a href="labs.lab1.venv.Lib.html"><font color="#ffffff">Lib</font></a>.<a href="labs.lab1.venv.Lib.site-packages.html"><font color="#ffffff">site-packages</font></a>.<a href="labs.lab1.venv.Lib.site-packages.wheel.html"><font color="#ffffff">wheel</font></a>.macosx_libfile</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:d%3A%5Cuniversity%5Cpythonlearning%5Csrc%5Clabs%5Clab1%5Cvenv%5Clib%5Csite-packages%5Cwheel%5Cmacosx_libfile.py">d:\university\pythonlearning\src\labs\lab1\venv\lib\site-packages\wheel\macosx_libfile.py</a></font></td></tr></table>
    <p><tt>This&nbsp;module&nbsp;contains&nbsp;function&nbsp;to&nbsp;analyse&nbsp;dynamic&nbsp;library<br>
headers&nbsp;to&nbsp;extract&nbsp;system&nbsp;information<br>
&nbsp;<br>
Currently&nbsp;only&nbsp;for&nbsp;MacOSX<br>
&nbsp;<br>
Library&nbsp;file&nbsp;on&nbsp;macosx&nbsp;system&nbsp;starts&nbsp;with&nbsp;Mach-O&nbsp;or&nbsp;Fat&nbsp;field.<br>
This&nbsp;can&nbsp;be&nbsp;distinguish&nbsp;by&nbsp;first&nbsp;32&nbsp;bites&nbsp;and&nbsp;it&nbsp;is&nbsp;called&nbsp;magic&nbsp;number.<br>
Proper&nbsp;value&nbsp;of&nbsp;magic&nbsp;number&nbsp;is&nbsp;with&nbsp;suffix&nbsp;_MAGIC.&nbsp;Suffix&nbsp;_CIGAM&nbsp;means<br>
reversed&nbsp;bytes&nbsp;order.<br>
Both&nbsp;fields&nbsp;can&nbsp;occur&nbsp;in&nbsp;two&nbsp;types:&nbsp;32&nbsp;and&nbsp;64&nbsp;bytes.<br>
&nbsp;<br>
FAT&nbsp;field&nbsp;inform&nbsp;that&nbsp;this&nbsp;library&nbsp;contains&nbsp;few&nbsp;version&nbsp;of&nbsp;library<br>
(typically&nbsp;for&nbsp;different&nbsp;types&nbsp;version).&nbsp;It&nbsp;contains<br>
information&nbsp;where&nbsp;Mach-O&nbsp;headers&nbsp;starts.<br>
&nbsp;<br>
Each&nbsp;section&nbsp;started&nbsp;with&nbsp;Mach-O&nbsp;header&nbsp;contains&nbsp;one&nbsp;library<br>
(So&nbsp;if&nbsp;file&nbsp;starts&nbsp;with&nbsp;this&nbsp;field&nbsp;it&nbsp;contains&nbsp;only&nbsp;one&nbsp;version).<br>
&nbsp;<br>
After&nbsp;filed&nbsp;Mach-O&nbsp;there&nbsp;are&nbsp;section&nbsp;fields.<br>
Each&nbsp;of&nbsp;them&nbsp;starts&nbsp;with&nbsp;two&nbsp;fields:<br>
cmd&nbsp;-&nbsp;magic&nbsp;number&nbsp;for&nbsp;this&nbsp;command<br>
cmdsize&nbsp;-&nbsp;total&nbsp;size&nbsp;occupied&nbsp;by&nbsp;this&nbsp;section&nbsp;information.<br>
&nbsp;<br>
In&nbsp;this&nbsp;case&nbsp;only&nbsp;sections&nbsp;LC_VERSION_MIN_MACOSX&nbsp;(for&nbsp;macosx&nbsp;10.13&nbsp;and&nbsp;earlier)<br>
and&nbsp;LC_BUILD_VERSION&nbsp;(for&nbsp;macosx&nbsp;10.14&nbsp;and&nbsp;newer)&nbsp;are&nbsp;interesting,<br>
because&nbsp;them&nbsp;contains&nbsp;information&nbsp;about&nbsp;minimal&nbsp;system&nbsp;version.<br>
&nbsp;<br>
Important&nbsp;remarks:<br>
-&nbsp;For&nbsp;fat&nbsp;files&nbsp;this&nbsp;implementation&nbsp;looks&nbsp;for&nbsp;maximum&nbsp;number&nbsp;version.<br>
&nbsp;&nbsp;It&nbsp;not&nbsp;check&nbsp;if&nbsp;it&nbsp;is&nbsp;32&nbsp;or&nbsp;64&nbsp;and&nbsp;do&nbsp;not&nbsp;compare&nbsp;it&nbsp;with&nbsp;currently&nbsp;built&nbsp;package.<br>
&nbsp;&nbsp;So&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;false&nbsp;report&nbsp;higher&nbsp;version&nbsp;that&nbsp;needed.<br>
-&nbsp;All&nbsp;structures&nbsp;signatures&nbsp;are&nbsp;taken&nbsp;form&nbsp;macosx&nbsp;header&nbsp;files.<br>
-&nbsp;I&nbsp;think&nbsp;that&nbsp;binary&nbsp;format&nbsp;will&nbsp;be&nbsp;more&nbsp;stable&nbsp;than&nbsp;`otool`&nbsp;output.<br>
&nbsp;&nbsp;and&nbsp;if&nbsp;apple&nbsp;introduce&nbsp;some&nbsp;changes&nbsp;both&nbsp;implementation&nbsp;will&nbsp;need&nbsp;to&nbsp;be&nbsp;updated.<br>
-&nbsp;The&nbsp;system&nbsp;compile&nbsp;will&nbsp;set&nbsp;the&nbsp;deployment&nbsp;target&nbsp;no&nbsp;lower&nbsp;than<br>
&nbsp;&nbsp;11.0&nbsp;for&nbsp;arm64&nbsp;builds.&nbsp;For&nbsp;"Universal&nbsp;2"&nbsp;builds&nbsp;use&nbsp;the&nbsp;x86_64&nbsp;deployment<br>
&nbsp;&nbsp;target&nbsp;when&nbsp;the&nbsp;arm64&nbsp;target&nbsp;is&nbsp;11.0.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="ctypes.html">ctypes</a><br>
</td><td width="25%" valign=top><a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-calculate_macosx_platform_tag"><strong>calculate_macosx_platform_tag</strong></a>(archive_root, platform_tag)</dt><dd><tt>Calculate&nbsp;proper&nbsp;macosx&nbsp;platform&nbsp;tag&nbsp;basing&nbsp;on&nbsp;files&nbsp;which&nbsp;are&nbsp;included&nbsp;to&nbsp;wheel<br>
&nbsp;<br>
Example&nbsp;platform&nbsp;tag&nbsp;`macosx-10.14-x86_64`</tt></dd></dl>
 <dl><dt><a name="-extract_macosx_min_system_version"><strong>extract_macosx_min_system_version</strong></a>(path_to_lib)</dt></dl>
 <dl><dt><a name="-get_base_class_and_magic_number"><strong>get_base_class_and_magic_number</strong></a>(lib_file, seek=None)</dt></dl>
 <dl><dt><a name="-parse_version"><strong>parse_version</strong></a>(version)</dt></dl>
 <dl><dt><a name="-read_data"><strong>read_data</strong></a>(struct_class, lib_file)</dt></dl>
 <dl><dt><a name="-read_mach_header"><strong>read_mach_header</strong></a>(lib_file, seek=None)</dt><dd><tt>This&nbsp;funcition&nbsp;parse&nbsp;mach-O&nbsp;header&nbsp;and&nbsp;extract<br>
information&nbsp;about&nbsp;minimal&nbsp;system&nbsp;version<br>
&nbsp;<br>
:param&nbsp;lib_file:&nbsp;reference&nbsp;to&nbsp;opened&nbsp;library&nbsp;file&nbsp;with&nbsp;pointer</tt></dd></dl>
 <dl><dt><a name="-swap32"><strong>swap32</strong></a>(x)</dt></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>CPU_TYPE_ARM64</strong> = 16777228<br>
<strong>FAT_CIGAM</strong> = 3199925962<br>
<strong>FAT_CIGAM_64</strong> = 3216703178<br>
<strong>FAT_MAGIC</strong> = 3405691582<br>
<strong>FAT_MAGIC_64</strong> = 3405691583<br>
<strong>LC_BUILD_VERSION</strong> = 50<br>
<strong>LC_VERSION_MIN_MACOSX</strong> = 36<br>
<strong>MH_CIGAM</strong> = 3472551422<br>
<strong>MH_CIGAM_64</strong> = 3489328638<br>
<strong>MH_MAGIC</strong> = 4277009102<br>
<strong>MH_MAGIC_64</strong> = 4277009103<br>
<strong>annotations</strong> = _Feature((3, 7, 0, 'beta', 1), (3, 11, 0, 'alpha', 0), 16777216)<br>
<strong>build_version_command_fields</strong> = [('cmd', &lt;class 'ctypes.c_ulong'&gt;), ('cmdsize', &lt;class 'ctypes.c_ulong'&gt;), ('platform', &lt;class 'ctypes.c_ulong'&gt;), ('minos', &lt;class 'ctypes.c_ulong'&gt;), ('sdk', &lt;class 'ctypes.c_ulong'&gt;), ('ntools', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>fat_arch_64_fields</strong> = [('cputype', &lt;class 'ctypes.c_long'&gt;), ('cpusubtype', &lt;class 'ctypes.c_long'&gt;), ('offset', &lt;class 'ctypes.c_ulonglong'&gt;), ('size', &lt;class 'ctypes.c_ulonglong'&gt;), ('align', &lt;class 'ctypes.c_ulong'&gt;), ('reserved', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>fat_arch_fields</strong> = [('cputype', &lt;class 'ctypes.c_long'&gt;), ('cpusubtype', &lt;class 'ctypes.c_long'&gt;), ('offset', &lt;class 'ctypes.c_ulong'&gt;), ('size', &lt;class 'ctypes.c_ulong'&gt;), ('align', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>fat_header_fields</strong> = [('magic', &lt;class 'ctypes.c_ulong'&gt;), ('nfat_arch', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>mach_header_fields</strong> = [('magic', &lt;class 'ctypes.c_ulong'&gt;), ('cputype', &lt;class 'ctypes.c_long'&gt;), ('cpusubtype', &lt;class 'ctypes.c_long'&gt;), ('filetype', &lt;class 'ctypes.c_ulong'&gt;), ('ncmds', &lt;class 'ctypes.c_ulong'&gt;), ('sizeofcmds', &lt;class 'ctypes.c_ulong'&gt;), ('flags', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>mach_header_fields_64</strong> = [('magic', &lt;class 'ctypes.c_ulong'&gt;), ('cputype', &lt;class 'ctypes.c_long'&gt;), ('cpusubtype', &lt;class 'ctypes.c_long'&gt;), ('filetype', &lt;class 'ctypes.c_ulong'&gt;), ('ncmds', &lt;class 'ctypes.c_ulong'&gt;), ('sizeofcmds', &lt;class 'ctypes.c_ulong'&gt;), ('flags', &lt;class 'ctypes.c_ulong'&gt;), ('reserved', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>segment_base_fields</strong> = [('cmd', &lt;class 'ctypes.c_ulong'&gt;), ('cmdsize', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>segment_command_fields</strong> = [('cmd', &lt;class 'ctypes.c_ulong'&gt;), ('cmdsize', &lt;class 'ctypes.c_ulong'&gt;), ('segname', &lt;class 'labs.lab1.venv.Lib.site-packages.wheel.macosx_libfile.c_char_Array_16'&gt;), ('vmaddr', &lt;class 'ctypes.c_ulong'&gt;), ('vmsize', &lt;class 'ctypes.c_ulong'&gt;), ('fileoff', &lt;class 'ctypes.c_ulong'&gt;), ('filesize', &lt;class 'ctypes.c_ulong'&gt;), ('maxprot', &lt;class 'ctypes.c_long'&gt;), ('initprot', &lt;class 'ctypes.c_long'&gt;), ('nsects', &lt;class 'ctypes.c_ulong'&gt;), ('flags', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>segment_command_fields_64</strong> = [('cmd', &lt;class 'ctypes.c_ulong'&gt;), ('cmdsize', &lt;class 'ctypes.c_ulong'&gt;), ('segname', &lt;class 'labs.lab1.venv.Lib.site-packages.wheel.macosx_libfile.c_char_Array_16'&gt;), ('vmaddr', &lt;class 'ctypes.c_ulonglong'&gt;), ('vmsize', &lt;class 'ctypes.c_ulonglong'&gt;), ('fileoff', &lt;class 'ctypes.c_ulonglong'&gt;), ('filesize', &lt;class 'ctypes.c_ulonglong'&gt;), ('maxprot', &lt;class 'ctypes.c_long'&gt;), ('initprot', &lt;class 'ctypes.c_long'&gt;), ('nsects', &lt;class 'ctypes.c_ulong'&gt;), ('flags', &lt;class 'ctypes.c_ulong'&gt;)]<br>
<strong>version_min_command_fields</strong> = [('cmd', &lt;class 'ctypes.c_ulong'&gt;), ('cmdsize', &lt;class 'ctypes.c_ulong'&gt;), ('version', &lt;class 'ctypes.c_ulong'&gt;), ('sdk', &lt;class 'ctypes.c_ulong'&gt;)]</td></tr></table>
</body></html>